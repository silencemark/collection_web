<!DOCTYPE html>
 <html lang="en">
 <head>
     <meta charset="UTF-8">
     <title>享GO</title>
     <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=no,width=device-width,initial-scale=1.0"/>
     <link rel="stylesheet" type="text/css" href="css/public.css"/>
     <link rel="stylesheet" type="text/css" href="css/myCenter.css"/>
     <script src="js/jquery-3.4.1.js"></script>
     <script src="js/vue.js"></script>
     <script src="js/jq-alert.js"></script>
 </head>
 <body>
  <div class="loading" id="loadingWindow" style="display:block;background:#fff;opacity: 0.9;"><img src="img/timg.gif"/></div>

<section class="main defaultNone"  id="app">
    <!--userInfo-->
    <div class="userInfo">
        <img :src="myCenterData.headimage" v-if="myCenterData.headimage"/>
        <img src="img/toux.png" v-if="!myCenterData.headimage"/>
        <div class="userName">
            <span style="margin-top:3px;">{{myCenterData.nickname}}</span>
            <img src="img/duop.png" style="margin-top:5px;"/>
            <span class="renz" v-if="myCenterData.isrealname==1">已认证</span> 
            <span class="renz" v-if="myCenterData.isrealname==0">未认证</span> 
        </div>
        <div class="btn qiand" @click="签到">签到</div>
        <div class="clear"></div>
    </div>

    <!--vipInfo-->
    <div :class="`vipInfo v${myCenterData.levelenum}-c`" :style="`background-image: url('img/V${myCenterData.levelenum}_BG.png`">
      <span style="margin-bottom:5px;">{{myCenterData.levelname}}</span>
        当前成长值 : {{myCenterData.growthvalue}}
        <div class="v-numver">
          距离升级还需要{{myCenterData.needgrowthvalue}}点成长值
          <div class="jdt-father">
              <div id="son" :class="`v${myCenterData.levelenum}-bg`" 
              :style="`width:${(myCenterData.growthvalue - myCenterData.mingrowthvalue)*100/(myCenterData.maxgrowthvalue-myCenterData.mingrowthvalue)}%;`"></div>
          </div>
          <span style="float:left;">V{{myCenterData.levelenum}}</span>
          <span style="float:right;">V{{myCenterData.levelenum+1}}</span>
          <span class="clear"></span>
      </div>
      <img v-if="myCenterData.levelenum!=0" :src="`img/V${myCenterData.levelenum}_IC.png`" class="v-img"/>
    </div>
    <div class="clear"></div>

    <!--operationEl-->
    <div class="operationEl" style="margin-top:10px;">
        <img src="img/integral-ic.png"/>
        <span>XGO币</span>
        <span class="money">{{myCenterData.xgocoin?myCenterData.xgocoin:0}}</span>
        <div class="userXGOBut" onclick="window.location.href='user/xgoInfo.html'">明细</div>
        <div class="userXGOBut" style="margin-right:30px;">转赠</div>
    </div>
    <div class="operationEl" onclick="window.location.href='user/systemVip.html'">
      <img src="img/vipSystem-ic.png"/>
      <span>会员体系</span>
      <img src="img/to-right.png" style="right:5%;"/>
    </div>
    <div class="operationEl" onclick="window.location.href='user/moneyInfo.html'">
      <img src="img/money-ic.png"/>
      <span>我的资产</span>
      <img src="img/to-right.png" style="right:5%;"/>
    </div>
    <div class="operationEl" onclick="window.location.href='user/userTeam.html'">
      <img src="img/handPor-ic.png"/>
      <span>我的团队</span>
      <img src="img/to-right.png" style="right:5%;"/>
    </div>
    <div class="operationEl">
      <img src="img/invitation-ic.png"/>
      <span>我的邀请码</span>
      <img src="img/to-right.png" style="right:5%;"/>
    </div>
    <div class="operationEl" onclick="window.location.href='user/setUser.html'">
      <img src="img/edit-ic.png"/>
      <span>账号设置</span>
      <img src="img/to-right.png" style="right:5%;"/>
    </div>
    <div class="operationEl">
      <img src="img/custService-ic.png"/>
      <span>服务中心</span>
      <img src="img/to-right.png" style="right:5%;"/>
    </div>
    <div class="operationEl" style="border: 0;" onclick="loginOut();">
      <img src="img/set-ic.png"/>
      <span>退出登录</span></a>
      <img src="img/to-right.png" style="right:5%;"/>
    </div>
</section>


 <!--footer-->
 <br/><br/><br/>
 <footer id="footer">
  <ul id="footer_list">
     <li class="list_li home active">
         <a href="index.html" class="text">首页</a>
     </li>
     <li class="list_li follow" >
         <a  href="activity.html" class="text">活动中心</a>
     </li>
     <li class="list_li cart">
         <a  href="cardBag/bagOwn.html" class="text">卡包</a>
     </li>
     <li class="list_li profile">
         <a  href="myCenter.html" class="text">我的</a>
     </li>
 </ul>
</footer>
<!-- end footer-->
</body>

<script>
    new Vue({
      el: '#app',
      data: function() {
        return {
          myCenterData:{},
        }
      },
      created() {
          this.getMyCenterData();
      },
      methods:{
        getMyCenterData(){
          var reqData = {userid:getCptToken()}
          var vueThis = this;
          jAjax("/appUserCenter/myCenter",reqData,function(data){
            data.levelenum = 1;
            data.growthvalue=2500;
            data.mingrowthvalue=2000;
            data.maxgrowthvalue=4000;
            vueThis.myCenterData = data;
          });
        }
        
      }
    })
  </script>

</html>