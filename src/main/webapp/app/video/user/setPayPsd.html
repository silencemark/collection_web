<!DOCTYPE html>
 <html lang="en">
 <head>
     <meta charset="UTF-8">
     <title>享GO</title>
     <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=no,width=device-width,initial-scale=1.0"/>
     <link rel="stylesheet" type="text/css" href="../css/public.css"/>
     <link rel="stylesheet" type="text/css" href="../css/myCenter.css"/>
     <script src="../js/jquery-3.4.1.js"></script>
     <script src="../js/vue.js"></script>
     <script src="../js/jq-alert.js"></script>
     <script src="../js/exif.js"></script>
     <style>
       .userSetMsg{
        float: right;
        margin-right: 35px;
       }
     </style>
 </head>
 <body>

<section class="main" id="app">
    <div class="title">
        <img src="../img/to-left.png" onclick="history.back(-1)"/>
        设置支付密码
    </div>
    <div class="operationEl">
        <span style="margin-left:0;">请输入支付密码：</span>
        <div style="margin-top:-20px;">
            <input v-model="password" placeholder="" type="password"  maxlength="16" style="width:90%;height:30px;border:0;color:#555;"/>
        </div>
    </div>
    <div class="operationEl">
        <span style="margin-left:0;">确认支付密码：</span>
        <div style="margin-top:-20px;">
            <input v-model="confimrPassword" placeholder="" type="password" maxlength="16" style="width:90%;height:30px;border:0;color:#555;" v-cloak/>
        </div>
    </div>
    <div class="operationEl">
        <span style="margin-left:0;">短信验证码：</span>
        <div style="margin-top:-20px;">
            <input v-model="confimrPassword" placeholder="" maxlength="4"  style="width:60%;height:30px;border:0;color:#555;" v-cloak/>
            <div class="btn"  @click="sendYzm">{{sendYzmMsg}}</div>
        </div>
    </div>
    
    <br>
    <div class="but-cont">
        <div class="btn btn-200" >立 即 保 存</div>
    </div>
</section>


 <!--footer-->
 <br/><br/><br/>
 <footer id="footer">
  <ul id="footer_list">
     <li class="list_li home active">
         <a href="../index.html" class="text">首页</a>
     </li>
     <li class="list_li follow" >
         <a  href="../activity.html" class="text">活动中心</a>
     </li>
     <li class="list_li cart">
         <a  href="../cardBag/bagOwn.html" class="text">卡包</a>
     </li>
     <li class="list_li profile">
         <a  href="../myCenter.html" class="text">我的</a>
     </li>
 </ul>
</footer>
<!-- end footer-->
</body>

<script>
new Vue({
    el: '#app',
    data: function() {
        return {
            password:'',
            confimrPassword:'',
            reqPath : reqPath,
            sendYzmMsg :'获取验证码',
            sendYzmSleep:0,//验证码按钮睡眠时间
            user:{},
        }
    },
    created() {
    },
    methods:{
       //发送验证码
       sendYzm(){
            if(this.sendYzmSleep>0) return;
            //发送短信
            var sendSuc = false;
            jAjax("/appLogin/getVerificationCode",this.user,function(data){
                if(data.status==0){
                    sendSuc = true;
                    jqtoast('验证码已发送至您的手机！');
                }else{
                    jqtoast(data.message);
                }
            });
            if(sendSuc){
                this.sendYzmSleep = 60;
                this.sendYzmMsg = '倒计时'+this.sendYzmSleep+'S';
                var timer = setInterval(()=>{
                    this.sendYzmSleep -= 1;
                    this.sendYzmMsg = '倒计时'+this.sendYzmSleep+'S';
                    if(this.sendYzmSleep<=0){
                        clearInterval(timer);
                        this.sendYzmMsg = '获取验证码';
                        this.sendYzmSleep = 0;
                    }
                },1000);
            }
          }

    }
})
  </script>

</html>